!function(a){a.fn.overBtn=function(b){var e,s,c=a.extend(!0,{},a.fn.overBtn.defaults,b),f=c.btnCs,g=c.tipCs,h=c.ctlCs,i=c.touchCtrl,j=c.enterCtrl,k=c.ctlT,l=c.showT,m=c.btnFn,n=0,o="",p=0,q=0,r=0,t=function(){""!=o&&(n.find(g).text(o),o=""),n=0},u=function(a){var b=a.find(h),c=a.find(g);"none"==b.css("display")?(0!=n&&(n.find(h).css({display:"none"}),t()),b.css({display:"block"}),n=a,0==p&&(o=c.text(),c.text("取消"))):(b.css({display:"none"}),t())};a("body").on("touchstart",f+" "+g,function(){var b=a(this).parent();1==i?m(b):u(b)}).on("touchstart",f,function(){0==p&&(q=1)}).on("mousedown",f+" "+g,function(){var b=a(this).parent();0==q&&(1==i?m(b):u(b))}).on("mousedown",f,function(){0==q&&0==p&&(q=1)}).on("mouseenter",f,function(){var b=a(this);setTimeout(function(){1==j?0==q?(m(b),r=0,p=1):(r=1,q=0):s=setTimeout(function(){0==q?(b.find(h).css({display:"block"}),r=0,p=1):(r=1,q=0)},l)},5)}).on("mouseleave",f,function(){var b=a(this);0==j&&(clearTimeout(s),p=0,setTimeout(function(){0==r&&(b.find(h).css({display:"none"}),t())},l+1))}).on("touchstart",f+" "+h,function(){var b=a(this).parent();m(b),b.find(h).css({display:"none"}),t()}).on("mousedown",f+" "+h,function(){var b=a(this).parent();0==q&&(m(b),b.find(h).css({display:"none"}),t())}).on("mouseenter",f+" "+h,function(){var b=a(this).parent();e=setTimeout(function(){0==q?(m(b),b.find(h).css({display:"none"}),t(),r=0,p=1):(r=1,q=0)},k)}).on("mouseleave",f+" "+h,function(){clearTimeout(e)})},a.fn.overBtn.defaults={btnCs:".btnA",tipCs:".tip",ctlCs:".ctl",touchCtrl:0,enterCtrl:0,ctlT:100,showT:100,btnFn:function(){}}}(jQuery);
